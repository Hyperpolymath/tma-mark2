// SPDX-FileCopyrightText: 2024 Panoptes Contributors
// SPDX-License-Identifier: MIT
= RMO Utilities: Responsibility, Monitoring, Obligations
:toc: left
:toclevels: 3
:icons: font
:sectnums:

== Overview

RMO (Responsibility, Monitoring, Obligations) utilities define what each participant is responsible for, how activities are monitored, and what obligations exist at each level.

== Responsibility Matrix

=== User Responsibilities

[cols="1,2,1"]
|===
|Responsibility |Description |Priority

|**Proper Use**
|Use software as intended
|Required

|**Bug Reporting**
|Report issues constructively
|Encouraged

|**Security**
|Report vulnerabilities responsibly
|Required

|**Licensing**
|Respect MIT license terms
|Required

|**Updates**
|Keep software updated
|Recommended
|===

=== Contributor Responsibilities

[cols="1,2,1"]
|===
|Responsibility |Description |Priority

|**Code Quality**
|Submit tested, documented code
|Required

|**Standards**
|Follow coding conventions
|Required

|**DCO Sign-off**
|Certify contribution origin
|Required

|**Responsiveness**
|Respond to review feedback
|Expected

|**CoC Compliance**
|Follow Code of Conduct
|Required
|===

=== Maintainer Responsibilities

[cols="1,2,1"]
|===
|Responsibility |Description |Priority

|**Security Response**
|Handle vulnerabilities per SLA
|Required

|**Review Timeliness**
|Review PRs within reasonable time
|Expected

|**Release Quality**
|Ensure releases are stable
|Required

|**Community Health**
|Enforce CoC, moderate discussions
|Required

|**Documentation**
|Maintain accurate documentation
|Required

|**Succession**
|Maintain succession plans
|Required
|===

== Monitoring Systems

=== Automated Monitoring

==== CI/CD Pipeline

[source,yaml]
----
# Continuous monitoring via CI
stages:
  - lint      # Code quality
  - test      # Functionality
  - audit     # Security
  - docs      # Documentation
  - compliance # RSR standards
----

==== Security Monitoring

[source,bash]
----
# Daily security checks
cargo audit                    # Dependency vulnerabilities
cargo deny check               # License compliance
just audit-licence             # SPDX header verification
----

==== Performance Monitoring

[source,bash]
----
# Benchmark tracking
cargo bench --save-baseline main
cargo bench --baseline main
----

=== Manual Monitoring

==== Code Review

* All PRs require review
* Security-sensitive changes: Two reviewers
* Architecture changes: Core team review

==== Community Health

* Discussion moderation
* Issue response tracking
* Contributor sentiment

==== Financial

* Quarterly spending review
* Annual audit (if funded)

=== Monitoring Dashboards

[cols="1,2"]
|===
|Dashboard |Purpose

|**GitHub Insights**
|Contribution metrics

|**CI/CD Status**
|Build health

|**Security Alerts**
|Vulnerability notifications

|**Discussions**
|Community activity
|===

== Obligations Framework

=== Universal Obligations

All participants must:

1. **Respect others**: Follow Code of Conduct
2. **Be honest**: No deception or manipulation
3. **Protect privacy**: No unauthorized data sharing
4. **Report issues**: Disclose problems responsibly

=== Level-Specific Obligations

==== User Obligations

* Accept license terms
* Report bugs constructively
* Don't misrepresent the software

==== Contributor Obligations

* Sign DCO for contributions
* Respond to review feedback
* Don't submit malicious code
* Maintain contributed code (best effort)

==== Maintainer Obligations

* Respond to security reports within SLA
* Review contributions fairly
* Document decisions
* Plan for succession
* Report financial usage (if funded)

=== SLA Obligations

[cols="1,2,2"]
|===
|Area |Obligation |Timeline

|**Security Critical**
|Acknowledge report
|24 hours

|**Security Critical**
|Provide fix
|7 days

|**PR Review**
|Initial response
|7 days

|**Issue Triage**
|Label and acknowledge
|14 days

|**Release**
|Security patches
|Immediate
|===

== RMO Implementation

=== Responsibility Tracking

[source,rust]
----
/// Track responsibility assignments
pub struct ResponsibilityAssignment {
    /// What is being tracked
    pub area: ResponsibilityArea,
    /// Who is responsible
    pub assignee: Actor,
    /// When assigned
    pub assigned_at: DateTime<Utc>,
    /// Current status
    pub status: Status,
    /// Due date (if applicable)
    pub due: Option<DateTime<Utc>>,
}

pub enum ResponsibilityArea {
    SecurityResponse,
    ReleaseManagement,
    DocumentationMaintenance,
    CommunityModeration,
    CodeReview,
}
----

=== Obligation Enforcement

Obligations are enforced through:

1. **Automation**: CI/CD checks
2. **Review**: Human oversight
3. **Community**: Peer accountability
4. **Governance**: Formal processes

=== Monitoring Automation

[source,bash]
----
# Check all obligations
just rmo-check

# Output:
# ✅ Security SLA: Met (last response: 2h ago)
# ✅ PR Review SLA: Met (oldest unreviewed: 3 days)
# ⚠️ Documentation: 2 outdated pages
# ✅ SPDX Coverage: 100%
# ✅ Test Coverage: 85%
----

== Integration with MAA and RMR

RMO completes the accountability framework:

[cols="1,3"]
|===
|Framework |Focus

|**MAA**
|Who is accountable and how

|**RMR**
|What earns trust and recognition

|**RMO**
|What must be done and monitored
|===

Together they ensure:

* Clear expectations (RMO)
* Fair recognition (RMR)
* Transparent accountability (MAA)

== Compliance Verification

=== Self-Assessment Checklist

[cols="1,2,1"]
|===
|Area |Check |Status

|Security SLA
|Responses within 24h
|☐

|PR Review
|Average < 7 days
|☐

|Documentation
|Up to date
|☐

|SPDX Headers
|100% coverage
|☐

|Test Coverage
|> 80%
|☐

|Dependency Audit
|No critical vulns
|☐

|License Compliance
|All compatible
|☐
|===

=== Automated Compliance

[source,bash]
----
# Run full compliance check
just validate

# Expected output:
# Running RSR Gold compliance checks...
# ✅ Category 1: Foundational Infrastructure
# ✅ Category 2: Documentation Standards
# ✅ Category 3: Security Architecture
# ... (all 11 categories)
#
# RSR Gold Compliance: PASS
----

== Related Documents

* link:maa-framework.adoc[MAA Framework] - Accountability
* link:rmr-utilities.adoc[RMR Utilities] - Recognition
* link:../../SECURITY.md[Security Policy]
* link:../../GOVERNANCE.adoc[Governance Model]
* link:../../CONTRIBUTING.adoc[Contributing Guide]
